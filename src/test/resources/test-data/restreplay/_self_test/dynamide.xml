<?xml version="1.0" encoding="UTF-8"?>
<restReplay>
    <protoHostPort>${DMSERVER}</protoHostPort>
    <testGroup ID="main" autoDeletePOSTS="false">
        <test ID="dynamide1">
            <expectedCodes>200</expectedCodes>
            <method>GET</method>
            <uri>${DMSERVER}/tagonomy?mock=true</uri>
        </test>
        <test ID="dynamideToken">
            <expectedCodes>200</expectedCodes>
            <method>GET</method>
            <uri>/tagonomy?mock=token</uri>
            <headers>
                <header name="x-method">${dynamide1.method}</header>
            </headers>
        </test>
        <test ID="dynamideUseToken">
            <expectedCodes>200</expectedCodes>
            <method>GET</method>
            <uri>/tagonomy?mock=true&amp;name=dynamideUseToken</uri>
            <headers>
                <header name="x-authorization">${dynamideToken.got("//data")}</header>
                <header name="x-method">${dynamideToken.method}</header>
            </headers>
            <deleteURL>${result.url.protocol}://${result.url.authority}${result.url.path} -:: ${result.protoHostPort} ::-</deleteURL>
        </test>
        <test ID="dynamideUseTokenPOST">
            <expectedCodes>200</expectedCodes>
            <method>POST</method>
            <uri>/tagonomy?mock=true</uri>
            <filename>dynamide-token-post.json</filename>
            <vars>
                <var ID="TOKEN">${dynamideToken.got("//data")}</var>
            </vars>
        </test>
        <test ID="dynamideUseTokenPUT">
            <expectedCodes>200</expectedCodes>
            <method>PUT</method>
            <uri>/tagonomy?mock=true</uri>
            <filename>dynamide-token-post.json</filename>
            <vars>
                <var ID="TOKEN">${dynamideToken.got("//data")}</var>
            </vars>
            <headers>
                <header name="x-method">${dynamide1.method}</header>
            </headers>
        </test>
        <test ID="dynamideUseTokenDELETE">
            <expectedCodes>200</expectedCodes>
            <method>DELETE</method>
            <uri>/tagonomy?mock=true</uri>
        </test>
    </testGroup>
</restReplay>
